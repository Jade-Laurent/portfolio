# 刀剣乱舞 カウントダウン

刀剣乱舞の本丸管理に特化したカウントダウンウェブページです。

## 機能

- **遠征管理**: 5部隊分の遠征カウントダウン
- **手入れ管理**: 4振分の手入れカウントダウン
- **内番管理**: 20時間固定の内番カウントダウン
- **鍛刀管理**: 4振分の鍛刀カウントダウン
- **任意カウントダウン**: 3つのカスタムカウントダウン
- **タイマー**: 2つのカウントダウンタイマー
- **通知機能**: ブラウザ通知と音声通知
- **データ保持**: ローカルストレージによる設定保存
- **停止・リセット機能**: 各カウントダウンの個別制御

## 使用方法

1. **時間入力**: 各カウントダウンで「HH:MM」形式で時間を入力
2. **開始**: 「開始」ボタンをクリックしてカウントダウン開始
3. **停止**: 「停止」ボタンでカウントダウンを一時停止
4. **リセット**: 「リセット」ボタンでカウントダウンを完全リセット
5. **全体リセット**: フッターの「全てリセット」で全カウントダウンをリセット

## 音声について

### 音声ファイルの準備

通知音を鳴らすには、以下のいずれかの音声ファイルを配置してください：

- `notification.mp3` (推奨)
- `notification.wav`
- `notification.ogg`

### 音声ファイルの推奨仕様

- **形式**: MP3, WAV, OGG
- **長さ**: 1-3秒程度
- **サイズ**: 100KB以下
- **音量**: 適度な音量（爆音は避ける）

### 音声が鳴らない場合の対処法

1. **ファイルの確認**
   - 音声ファイルが正しい場所にあるか確認
   - ファイル名が正確か確認（大文字小文字も含む）

2. **ブラウザの設定**
   - ブラウザの音声設定を確認
   - サイトの音声許可を確認

3. **ファイル形式の変更**
   - MP3が再生されない場合は、WAVファイルを試す
   - ブラウザによって対応形式が異なる場合があります

4. **コンソールエラーの確認**
   - F12キーで開発者ツールを開く
   - コンソールタブでエラーメッセージを確認

### 音声ファイルの入手方法

1. **無料音声素材サイト**
   - [効果音ラボ](https://soundbible.com/)
   - [フリー効果音](https://freesound.org/)
   - [魔王魂](https://maou.audio/)

2. **刀剣乱舞風の音声**
   - ゲーム内の通知音を録音（著作権に注意）
   - 和風の通知音を探す

3. **自作音声**
   - オンライン音声作成ツールを使用
   - シンプルな「ピー」音や「チーン」音

## 通知について

### ブラウザ通知

- 初回使用時に通知許可を求められます
- 許可後は、カウントダウン完了時にブラウザ通知が表示されます
- 通知が拒否された場合は、アラートで代替表示されます

### 通知の設定

- フッターの「音ON/OFF」ボタンで音声通知の切り替え
- 設定は自動保存されます

## ファイル構成

```
toukenCountDown/
├── index.html          # メインHTMLファイル
├── styles.css          # スタイルシート
├── script.js           # JavaScript機能
├── notification.mp3    # 通知音（要配置）
├── favicon.png         # タブアイコン（要配置）
└── README.md           # このファイル
```

## カスタマイズ

### 色の変更

`styles.css`の以下の変数を変更：

```css
/* メインカラー */
--main-gold: #d4af37;
--secondary-gold: #b8860b;
--background-dark: #1a1a2e;
```

### 時間形式の変更

`script.js`の`isValidTimeFormat`関数を修正：

```javascript
// 現在: HH:MM形式
// 変更例: MM:SS形式や分単位など
```

### セクションの追加

1. `index.html`に新しいセクションを追加
2. `script.js`の`getLabel`関数にラベル処理を追加
3. `styles.css`にセクション別の色分けを追加

## 注意事項

- スマートフォンでの使用は想定していません
- ローカルファイルとして使用する場合は、HTTPS環境でないと通知機能が制限される場合があります
- 音声ファイルは必ず配置してください（ファイルがない場合は音が鳴りません）
- ブラウザの自動再生ポリシーにより、初回クリック後に音声が有効になります

## トラブルシューティング

### よくある問題

1. **音が鳴らない**
   - 音声ファイルが配置されているか確認
   - ブラウザの音声設定を確認
   - 一度ページをクリックしてから試す

2. **通知が表示されない**
   - ブラウザの通知設定を確認
   - サイトの通知許可を確認

3. **データが保存されない**
   - ブラウザのローカルストレージが有効か確認
   - プライベートブラウジングモードの場合は保存されません

4. **レイアウトが崩れる**
   - ブラウザのキャッシュをクリア
   - 最新のブラウザを使用

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 更新履歴

- v1.0: 初期リリース
- v1.1: 停止・リセット機能追加
- v1.2: 音声・通知機能改善 